> 今日面试题17.16、714题、1312题

# 面试题17.16-按摩师

## 题目

一个有名的按摩师会收到源源不断的预约请求，每个预约都可以选择接或不接。在每次预约服务之间要有休息时间，因此她不能接受相邻的预约。给定一个预约请求序列，替按摩师找到最优的预约集合（总预约时间最长），返回总的分钟数。

## 思路

类似于“打家劫舍”，利用动态规划，数组dp\[i\]记录截止第i天的最大收益，由于不能连续接客，所以只能有两种情况，或者为前前的最大收益加当前收益，或者为前最大收益。

## 实现

```java
class Solution {
    public int massage(int[] nums) {
        if(nums.length == 0) return 0;
        if(nums.length == 1) return nums[0];
        if(nums.length == 2) return Math.max(nums[0], nums[1]);
        int[] dp = new int[nums.length];
        dp[0] = nums[0];
        dp[1] = Math.max(nums[0], nums[1]);
        for(int i = 2; i < nums.length; i++) {
            dp[i] = Math.max(dp[i-2] + nums[i], dp[i-1]);
        }
        return dp[nums.length -1];
    }
}
```

n位置的结果，只需要n-1和 n-2的结果就可以推出来，所以只需要保存两个结果。first second的作用和dp数组一样。

```java
class Solution {
    public int massage(int[] nums) {
        int first=0;
        int second=0;
        for(int i:nums){
            int temp=second;
            second=Math.max(second,first+i);
            first=temp;
        }
        return second;
    }
}
```

# 714题-买卖股票的最佳时机含手续费

## 题目

给定一个整数数组 prices，其中第 i 个元素代表了第 i 天的股票价格 ；非负整数 fee 代表了交易股票的手续费用。

你可以无限次地完成交易，但是你每笔交易都需要付手续费。如果你已经购买了一个股票，在卖出它之前你就不能再继续购买股票了。

返回获得利润的最大值。

注意：这里的一笔交易指买入持有并卖出股票的整个过程，每笔交易你只需要为支付一次手续费。

## 思路

动态规划，利用二维数组，第二维表示当天是否持股，最后结果即最后一天不持股的值。

## 实现

```java
class Solution {
    public int maxProfit(int[] prices, int fee) {
        if(prices.length < 2) return 0;
        // dp[i][j] 表示第i天的最大收益，j为0或1，0表示当天不持股，1表示当天持股
        int[][] dp = new int[prices.length][2];
        // 规定买入时交手续费，卖出时不交
        dp[0][0] = 0;
        dp[0][1] = -prices[0] - fee; // 第一天持股，表示不仅买了还得花费手续费
        for(int i = 1; i < prices.length; i++) {
            // 当天不持股，或为昨天不持股，今天保持；或为昨天持股，今天卖出
            dp[i][0] = Math.max(dp[i-1][0], dp[i-1][1] + prices[i]);
            // 当天持股，或为昨天持股，今天保持；或为昨天不持股，今天买入
            dp[i][1] = Math.max(dp[i-1][1], dp[i-1][0] - prices[i] - fee);
        }
        // 最终结果应该为最后一天不持股
        return dp[prices.length - 1][0];
    }
}
```



# 1312题-让字符串成为回文串的最少插入次数

## 题目



## 思路



## 实现

```java

```

